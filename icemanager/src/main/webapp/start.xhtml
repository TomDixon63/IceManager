<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ice="http://java.sun.com/jsf/composite/compositeComponents"
	template="/WEB-INF/template.xhtml">

	<ui:define name="metadata">
		<f:metadata>
			<f:event
				type="preRenderView"
				listener="#{startView.init}" />
		</f:metadata>

	</ui:define>

	<ui:define name="content">

		<div
			class="flex align-items-center flex-wrap"
			style="margin-bottom: 2rem">

			<p:panel style="padding: 0.5rem">
				<span style="color: orange">Bestellungen heute:
					#{startView.ordersToday}</span>

			</p:panel>

			<p:panel style="padding: 0.5rem">

				<span>Bestellungen morgen:</span>
					#{startView.ordersTommorow}
			</p:panel>

			<p:panel style="padding: 0.5rem">
				<span>Bestellungen übermorgen:</span>
					#{startView.ordersAfterTommorow}
			</p:panel>
			
			<p:panel style="padding: 0.5rem">
				<span>Bestellungen 7 Tage:</span>
					#{startView.orders7Days}
			</p:panel>

			<p:panel style="padding: 0.5rem">
				<span>Alle Bestellungen:</span>
					#{startView.ordersAll}
			</p:panel>

		</div>

		<p:panel
			header="Startseite - Überblick Bestellungen (Heute, Morgen, Übermorgen, Alle = Bestand minus Bestellungen)">

			<p:dataTable
				var="stockposition"
				value="#{startView.stockOverviewList}">

				<p:column
					style="width:10rem"
					headerText="Produkt">
					<h:outputText value="#{stockposition.product}" />
				</p:column>

				<p:column
					style="width:10rem"
					headerText="Bestand">
					<h:outputText value="#{stockposition.stockCount}" />
				</p:column>

				<p:column
					style="width:10rem; color: orange"
					headerText="Heute">
					<h:outputText
						value="#{stockposition.countToday}"
						style="#{stockposition.countToday lt 0 ?  'color:red': 'color:orange'}" />
				</p:column>

				<p:column
					style="width:10rem"
					headerText="Morgen">
					<h:outputText
						value="#{stockposition.countTomorrow}"
						style="#{stockposition.countTomorrow lt 0 ?  'color:red': 'color:white'}" />
				</p:column>

				<p:column
					style="width:10rem"
					headerText="Übermorgen">
					<h:outputText
						value="#{stockposition.countAfterTomorrow}"
						style="#{stockposition.countAfterTomorrow lt 0 ?  'color:red': 'color:white'}" />
				</p:column>
				
				<p:column
					style="width:10rem"
					headerText="7 Tage">
					<h:outputText
						value="#{stockposition.count7days}"
						style="#{stockposition.count7days lt 0 ?  'color:red': 'color:white'}" />
				</p:column>

				<p:column
					style="width:10rem"
					headerText="Alle">
				
					<h:outputText
						value="#{stockposition.countAll}"
						style="#{stockposition.countAll lt 0 ? 'color:red': 'color:white'}" />
				</p:column>

			</p:dataTable>

		</p:panel>
	</ui:define>

</ui:composition>

